 >  Перевод статьи Джеймсона Лоппа подготовили <a href="https://medium.com/@nikitakolodin" rel="noopener">Nikita Kolodin</a>__ и __<a href="https://twitter.com/RainDogDance" rel="noopener ugc nofollow">__RainDogDance__</a>

<figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://blog.lopp.net/who-controls-bitcoin-core-/"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Who Controls Bitcoin Core?</div><div class="kg-bookmark-description">Understanding how the focal point of Bitcoin development operates.</div><div class="kg-bookmark-metadata"><img alt="" class="kg-bookmark-icon" src="https://blog.lopp.net/favicon.ico"/><span class="kg-bookmark-author">Cypherpunk Cogitations</span><span class="kg-bookmark-publisher">Jameson Lopp</span></div></div><div class="kg-bookmark-thumbnail"><img alt="" src="https://blog.lopp.net/content/images/downloaded_images/Who-Controls-Bitcoin-Core-/1-sAd4NmyP7LIdipEoRlw5pg.png"/></div></a></figure>

Вопрос о том, кто контролирует код в репозитории <a href="https://bitcoincore.org/" rel="noopener ugc nofollow">Bitcoin Core</a> на <a href="https://github.com/bitcoin/bitcoin" rel="noopener ugc nofollow">гитхабе</a>, продолжает возникать снова и снова. Этот довод часто преподносится как свидетельство наличия центральной точки контроля протокола биткоина. Я убеждён, что сам вопрос обманчив, поскольку подразумевает неминуемое существование авторитарной власти — а эта модель неприменима к биткоину. Обывателю, конечно, может быть неочевидно, почему это так, поэтому цель этой статьи — объяснить, как работает Bitcoin Core и, на более высоком уровне, как развивается сам протокол биткоина.

<h1 id="%D0%B8%D1%81%D1%82%D0%BE%D1%80%D0%B8%D1%8F-bitcoin-core"><strong>История Bitcoin Core</strong></h1>

Bitcoin Core — это, скорее, главное место разработки протокола биткоина, а не орган управления и контроля. Если оно по какой-либо причине прекратит своё существование, возникнет новое. Выбор конкретной платформы (в настоящее время — репозиторий на гитхабе) — это скорее вопрос удобства, а не определения или же аутентичности проекта. На самом деле, мы уже не раз наблюдали, как разработка биткоина переезжала на другие платформы и даже меняла имена.

*   В начале 2009 года исходный код биткоина представлял собой <a href="http://www.metzdowd.com/pipermail/cryptography/2009-January/014994.html" rel="noopener ugc nofollow">простой файл .rar</a>, размещённый на SourceForge. Первые разработчики просто обменивались патчами с Сатоши по <a href="https://online.wsj.com/public/resources/documents/finneynakamotoemails.pdf" rel="noopener ugc nofollow">электронной почте.</a>
*   30 октября 2009 года Sirius (<a href="https://medium.com/@mmalmi" rel="noopener">Марти Мальми</a>) создал <a href="https://sourceforge.net/p/bitcoin/code/1/" rel="noopener ugc nofollow">репозиторий для разработки биткоина</a> на SourceForge
*   В 2011 году <a href="https://sourceforge.net/p/bitcoin/code/252" rel="noopener ugc nofollow">проект переехал</a> с SourceForge на <a href="https://github.com/bitcoin/bitcoin/commit/ca40e581ebcdc85dba15c1e873f5e5aedda45b77" rel="noopener ugc nofollow">GitHub</a>
*   В 2014 году проект <a href="https://github.com/bitcoin/bitcoin/pull/3408" rel="noopener ugc nofollow">был переименован в Bitcoin Core</a>.

<h1 id="%D0%BD%D0%B5-%D0%B4%D0%BE%D0%B2%D0%B5%D1%80%D1%8F%D0%B9-%D0%BD%D0%B8%D0%BA%D0%BE%D0%BC%D1%83"><strong>Не доверяй никому</strong></h1>

Хотя в репозитории на гитхабе некоторые разработчики имеют статус «дежурных» (maintainer__ —__ статус с определёнными административными правами в данном репозитории — __прим. перев.__), имеющих полномочия добавление кода в основную ветвь — они скорее занимаются техническим обслуживанием репозитория, а не контролируют его. Если бы любой человек мог добавлять код в основную ветку, это очень быстро превратилось бы в хаос. Bitcoin Core следует принципам наименьших привилегий: любые полномочия, предоставляемые отдельным лицам, легко отзываются, если ими злоупотребляют.

<figure class="kg-card kg-embed-card kg-card-hascaption"><blockquote class="twitter-tweet"><p dir="ltr" lang="en">Core is transparent about the list that matters: the PGP keys who can sign merge commits.<br/><br/>The lesson to be learned here is to not trust GitHub! Even Bitcoin Core doesn't know the full list of people who can change the repo, as that extends to probably dozens of GitHub employees.</p>— Peter Todd (@peterktodd) <a href="https://twitter.com/peterktodd/status/1047854713029312512?ref_src=twsrc%5Etfw">October 4, 2018</a></blockquote>
<script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"></script>
<figcaption>Core открыто публикует важный список, содержащий PGP-ключи, которыми можно подписывать слияния кода (merge commits). Но мораль скорее заключается в том, что гитхабу доверять нельзя! Даже Bitcoin Core не знает всех людей, которые могут изменить репозиторий — таких, наверное, целая дюжина среди сотрудников гитхаба.</figcaption></figure>

С точки зрения безопасности, гитхабу доверять нельзя. Любой сотрудник гитхаба может воспользоваться своим служебным положением и вставить код в репозиторий без ведома дежурных. Но маловероятно, что такой злоумышленник также сможет завладеть PGP-ключом дежурного разработчика Bitcoin Core.

Bitcoin Core не сводит вопрос надёжности кода к безопасности аккаунтов на гитхабе, поэтому он имеет систему непрерывной интеграции, проверяющей PGP-ключи доверенных лиц, которые должны подписывать каждое слияние кода (merge commit — слияние нового кода с уже находящимся в репозитории — __прим. перев.__). Хотя все знают, кто владеет этими ключами, всё-таки небезопасно предполагать, что так будет всегда — ключ могут украсть, и мы не сможем об этом узнать до тех пор, пока его владелец не уведомит об этом других дежурных. Таким образом, ключи для слияния кода также не гарантируют идеальную защиту; они просто усложняют задачу добавления произвольного кода злоумышленником.

<h1 id="%D0%BA%D0%BB%D1%8E%D1%87%D0%B8-%D0%BA-%D1%86%D0%B0%D1%80%D1%81%D1%82%D0%B2%D1%83"><strong>Ключи к царству</strong></h1>

На момент написания статьи <a href="https://github.com/bitcoin/bitcoin/blob/master/contrib/verify-commits/trusted-keys" rel="noopener ugc nofollow">доверенными отпечатками PGP являются</a>:

>  ___71A3B16735405025D447E8F274810B012346C9A6___  
> ___133EAC179436F14A5CF1B794860FEB804E669320___  
> ___32EE5C4C3FA15CCADB46ABE529D4BCB6416F53EC___  
> ___B8B3F1C0E58C15DB6A81D30C3648A882F4316B9B___  
> ___CA03882CB1FC067B5D3ACFE4D300116E1C875A3D___

Эти ключи принадлежат следующим людям:

>  __Владимир ван дер Лаан_ &lt;_<a href="mailto:laanwj@protonmail.com" rel="noopener ugc nofollow">_laanwj@protonmail.com_</a>_&gt;___  
> __Питер Вулле_ &lt;_<a href="mailto:pieter.wuille@gmail.com" rel="noopener ugc nofollow">_pieter.wuille@gmail.com_</a>_&gt;___  
> __Ионас Шнелли_ &lt;_<a href="mailto:dev@jonasschnelli.ch" rel="noopener ugc nofollow">_dev@jonasschnelli.ch_</a>_&gt;___  
> __Марко Фальке_ &lt;_<a href="mailto:marco.falke@tum.de" rel="noopener ugc nofollow">_marco.falke@tum.de_</a>_&gt;___  
> __Сэмюэль Добсон_ &lt;_<a href="mailto:dobsonsa68@gmail.com" rel="noopener ugc nofollow">_dobsonsa68@gmail.com_</a>_&gt;___

Значит ли это, что мы доверяем этим пяти людям? Не совсем. Ключи не являются доказательством личности — теоретически, они могут попасть в руки других людей. В чём вы действительно можете убедиться, запустив скрипт __verify-commits__ в питоне?

>  __python3 contrib/verify-commits/verify-commits.py__  
> __Using verify-commits data from bitcoin/contrib/verify-commits__  
> __All Tree-SHA512s matched up to 309bf16257b2395ce502017be627186b749ee749__  
> __There is a valid path from “HEAD” to 82bcf405f6db1d55b684a1f63a4aabad376cdad7 where all commits are signed!__

Скрипт __verify-commits__ — это проверка аутентичности кода, которую любой разработчик может запустить на своем компьютере. При выполнении скрипт проверяет PGP-подпись, стояющую на каждом слиянии кода, начиная с номера __82bcf405__… в декабре 2015 года — в сумме более 3400 слияний на момент написания этой статьи. Если скрипт завершается успешно, то это значит, что каждая строка кода, которая была добавлена или изменена с того момента, прошла через процесс разработки Bitcoin Core и была подписана кем-то с ключом дежурного. Хоть это и не даёт железную гарантию того, что никто не мог ввести вредоносный код (дежурный может захотеть навредить проекту или у него могут украсть ключи), это значительно снижает вероятность атаки. А кто вообще такие дежурные и как они получили свои роли? Об этом мы поговорим чуть позже.

<h1 id="%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE%D1%83%D1%80%D0%BE%D0%B2%D0%BD%D0%B5%D0%B2%D0%B0%D1%8F-%D0%B1%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C">Многоуровневая безопасность</h1>

Целостность кода Bitcoin Core не должна зависеть только от нескольких криптографических ключей, поэтому есть и множество других проверок. Для обеспечения серьёзной защиты создано множество уровней безопасности:

____Безопасность пул-реквестов____

(Pull request — запрос на объединение нового кода с уже находящимся в репозитории —__ прим. перев.__)

1.   Совершенно любой человек может свободно предложить изменения, улучшающие код проекта, открыв свой пул-реквест в репозитории <a href="https://github.com/bitcoin/bitcoin" rel="noopener ugc nofollow">bitcoin/bitcoin</a>.
2.   Разработчики проверяют пул-реквесты, чтобы убедиться, что они не являются вредоносными. Любой желающий может свободно просматривать пул-реквесты и высказывать своё мнение о них — для участия в Bitcoin Core не нужно проходить проверки или сдавать экзамены. Если пул-реквест доживает до момента, когда разумных оснований не добавить его в основную ветку больше нет, дежурный выполняет слияние.
3.   Дежурные разработчики Bitcoin Core установили <a href="https://github.com/bitcoin/bitcoin/blob/master/contrib/verify-commits/pre-push-hook.sh" rel="noopener ugc nofollow">скрипт</a>, предотвращающий случайное выполнение слияний кода в репозитории, если их ещё не подписали.
4.   Иногда такие слияния датируются с помощью <a href="https://github.com/bitcoin/bitcoin/blob/ebd786b72a2a15143d7ef4ea2229fef121bd8f12/contrib/devtools/README.md#create-and-verify-timestamps-of-merge-commits" rel="noopener ugc nofollow">OpenTimestamps</a>.
5.   <a href="https://travis-ci.org/bitcoin/bitcoin" rel="noopener ugc nofollow">Travis Continuous Integration system</a> (система непрерывной интеграции Travis — __прим. перев.__) регулярно запускает <a href="https://github.com/bitcoin/bitcoin/blob/master/.travis/lint_06_script.sh" rel="noopener ugc nofollow">скрипт</a> для проверки аутентичности истории разработки и для проверки подписей всех слияний основной ветвки разработки: они должны соотноситься с одним из доверенных PGP-ключей.
6.   Любой желающий может запустить <a href="https://github.com/bitcoin/bitcoin/blob/master/contrib/verify-commits/verify-commits.py" rel="noopener ugc nofollow">скрипт</a> для проверки PGP-подписей всех слияний после декабря 2015 года. Я сам запустил его во время написания этой статьи, и на моем ноутбуке он всё проверил за 25 минут.

____Безопасность релизов____

1.   Время от времени несколько разработчиков независимо друг от друга запускают системы воспроизводимой сборки <a href="https://gitian.org/" rel="noopener ugc nofollow">Gitian</a>, чтобы убедиться в том, что на выходе получаются идентичные исполняемые файлы. Если кому-то удаётся создать сборку, не совпадающую со сборками других разработчиков, это признак того, что в ней замечен невоспроизводимый компонент — тогда релиз откладывается. В таком случае разработчики отслеживают причину расхождений, исправляют её и затем собирают другого кандидата на релиз. Как только детерминированная сборка успешно завершается, разработчики подписывают результат, тем самым гарантируя, что получившиеся исполняемые файлы и использованные для их сборки инструменты чисты, и что они собраны из одного и того же источника. Этот метод позволяет обезопасить процесс сборки и распространения исполняемых файлов. Любой пользователь, имеющий соответствующие навыки, может запустить свою собственную систему сборки; <a href="https://github.com/bitcoin-core/docs/blob/master/gitian-building.md" rel="noopener ugc nofollow">инструкции здесь</a>.
2.   Как только сборки Gitian успешно завершаются и подписываются сборщиками, один из дежурных Bitcoin Core подписывает своим PGP-ключом сообщение, содержащее sha256-хэш каждой сборки. Если вы хотите запустить предварительно собранные исполняемые файлы, после загрузки вы можете посмотреть их хэш, а затем проверить, находится ли этот хэш в подписанном дежурными сообщении. Инструкции для этого <a href="https://bitcoincore.org/en/download/" rel="noopener ugc nofollow">можно найти здесь</a>.
3.   Код всех вышеперечисленных действий открыт и доступен каждому — любой, владеющий достаточными навыками и желанием, может его проверить лично.
4.   После прохождения всех вышеперечисленных проверок качества и аутентичности код попадает в Bitcoin Core и в конечном итоге уходит в релиз, но никто не насаждает его нодам биткоина в принудительном порядке. Каждый оператор ноды биткоина сам принимает осознанное решение обновить установленный у себя код. ____Bitcoin Core не случайно не имеет функции автообновления, так как она потенциально может быть использована для навязывания пользователям кода, на который они не соглашались.____

Несмотря на все технические меры безопасности, используемые в Bitcoin Core, ни одна из них не совершенна, и любая из них теоретически может быть взломана. Последний рубеж защиты кода Bitcoin Core такой же, как и в любом другом проекте с открытым исходным кодом — это __постоянная бдительность__. Чем больше глаз присматривает за кодом Bitcoin Core, тем меньше вероятность того, что вредоносный или уязвимый код попадёт в релиз.

<h1 id="%D0%BC%D0%B0%D1%81%D1%88%D1%82%D0%B0%D0%B1-%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BA%D0%BE%D0%B4%D0%B0">Масштаб тестирования кода</h1>

В Bitcoin Core содержится и немало тестового кода. Существует набор интеграционных тестов, который проверяет каждый пул-реквест, и расширенный набор тестов, который каждую ночь проверяет основную ветку.

Проверить объём кода покрываемого тестами можно самостоятельно. Для этого нужно:

1.   Склонировать репозиторий Bitcoin Core на гитхабе
2.   Установить <a href="https://github.com/bitcoin/bitcoin/tree/master/doc#building" rel="noopener ugc nofollow">необходимые зависимости</a> для сборки из исходного кода
3.   Запустить <a href="https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#compiling-for-test-coverage" rel="noopener ugc nofollow">эти команды</a>
4.   Просмотреть отчет здесь: ./total\_coverage/index.html

Также, вы можете просмотреть <a href="https://drahtbot.github.io/reports/coverage/bitcoin/bitcoin/master/total.coverage/index.html" rel="noopener ugc nofollow">отчёты о тестировании кода</a>, которые регулярно публикует Марко Фальке.

<figure class="kg-card kg-image-card kg-card-hascaption"><img alt="" class="kg-image" height="480" loading="lazy" sizes="(min-width: 720px) 720px" src="https://www.21ideas.org/content/images/2022/01/image-1.png" srcset="https://www.21ideas.org/content/images/size/w600/2022/01/image-1.png 600w, https://www.21ideas.org/content/images/2022/01/image-1.png 800w" width="800"/><figcaption>Отчёт о тестировании кода</figcaption></figure>

Такое широкое покрытие кода тестами даёт нам уверенность в том, что код работает так, как задумано.

Тестирование имеет большое значение, когда речь идет о программном обеспечении, в котором достижение консенсуса является критически важной задачей. Для особо сложных изменений разработчики иногда проводят кропотливое мутационное тестирование: то есть, они проверяют сами тесты, намеренно ломая код и убеждаясь, что они провалились именно так, как от них и ожидали. Грег Максвелл пролил свет на некоторые детали этого процесса в своём рассказе о релизе 0.15:

<blockquote class="kg-blockquote-alt">«Тест — это проверка программного обеспечения, но чем проверить сам тест? Программным обеспечением. Чтобы проверить тест, вы должны сломать программное обеспечение» — Грег Максвелл</blockquote>

<figure class="kg-card kg-embed-card"><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="113" src="https://www.youtube.com/embed/nSRoEeqYtJA?feature=oembed" width="200"></iframe></figure>

<h1 id="%D1%81%D0%B2%D0%BE%D0%B1%D0%BE%D0%B4%D0%BD%D0%B0%D1%8F-%D0%BA%D0%BE%D0%BD%D0%BA%D1%83%D1%80%D0%B5%D0%BD%D1%86%D0%B8%D1%8F"><strong>Свободная конкуренция</strong></h1>

В BitMEX написали отличную статью об экосистеме программных реализаций биткоина. Существует более десятка различных реализаций, совместимых с сетью биткоина, и еще больше реализаций «конкурирующих» сетей. Это и есть свобода, даруемая программным обеспечением с открытым исходным кодом: любой, кто недоволен проектом Bitcoin Core, может начать свой собственный. Сделать это можно либо начав с чистого листа, либо форкнув (т.е. создав полную копию репозитория — __прим. перев.__) программное обеспечение Core.

<figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://blog.bitmex.com/bitcoin-cores-competition/"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Competing with Bitcoin Core</div><div class="kg-bookmark-description">Abstract:&nbsp;We examine the power and dynamics of the “Bitcoin Core” software project and we draw distinctions between the various different ways one can compete with the project. We …</div><div class="kg-bookmark-metadata"><img alt="" class="kg-bookmark-icon" src="https://blog.bitmex.com/wp-content/uploads/2020/09/favicon-32x32.png"/><span class="kg-bookmark-author">BitMEX Blog</span><span class="kg-bookmark-publisher">BitMEX Research</span></div></div><div class="kg-bookmark-thumbnail"><img alt="" src="https://blog.bitmex.com/wp-content/uploads/2020/01/unnamed-1.png"/></div></a></figure>

На момент написания этой статьи на 96% доступных нод биткоина запущен Bitcoin Core той или иной версии. Но почему? Как может Bitcoin Core доминировать в сети, где каждый волен использовать любое другое программное обеспечение? В конце концов, RPC API-интерфейсы других программных реализаций совместимы с Bitcoin Core, или, по крайней мере, очень похожи на него.

<figure class="kg-card kg-image-card"><img alt="" class="kg-image" height="420" loading="lazy" src="https://www.21ideas.org/content/images/2022/01/image-2.png" srcset="https://www.21ideas.org/content/images/size/w600/2022/01/image-2.png 600w, https://www.21ideas.org/content/images/2022/01/image-2.png 672w" width="672"/></figure>

Я считаю, что причина заключается в том, что вся разработка сконцентрирована вокруг Bitcoin Core. В него вложено несоизмеримо больше времени и таланта, чем в какой-либо другой проект — а это значит, что код Bitcoin Core получается наиболее эффективным, надёжным и безопасным. Операторам нод хочется запускать самое лучшее программное обеспечение, особенно когда речь идёт о работе с деньгами. Есть и ещё одно объяснение: достижение консенсуса с другими нодами является критически важной задачей для такого программного обеспечения, но в то же время у протокола биткоина нет формальной спецификации (потому что никто не вправе её составлять), поэтому безопаснее всего использовать код самой популярной программной реализации, так как шансов на совместимость с остальной сетью больше всего именно у неё. В этом смысле код, которому уделяют больше всего внимания, получается наиболее близким к тому, что могло бы быть спецификацией.

<h1 id="%D0%BA%D1%82%D0%BE-%D1%82%D0%B0%D0%BA%D0%B8%D0%B5-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B8-core"><strong>Кто такие разработчики Core?</strong></h1>

Людям, незнакомым с <a href="https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md" rel="noopener ugc nofollow">участием в разработке Bitcoin Core</a>, со стороны может показаться, что Core — это некая однородная организация. Это совсем не так! Основные участники часто спорят друг с другом, и даже <a href="https://github.com/bitcoin/bitcoin/pulls?utf8=%E2%9C%93&amp;q=is%3Aclosed+is%3Aunmerged+is%3Apr+author%3Alaanwj" rel="noopener ugc nofollow">самые</a> <a href="https://github.com/bitcoin/bitcoin/pulls?utf8=%E2%9C%93&amp;q=is%3Aclosed+is%3Aunmerged+is%3Apr+author%3Asipa+" rel="noopener ugc nofollow">усердные</a> из них написали немало кода, который так и не дошёл до релиза. Если вы прочитаете рекомендации и правила для участников, то заметите, что они довольно расплывчаты — процесс лучше всего охарактеризовать как «<a href="https://tools.ietf.org/html/rfc7282" rel="noopener ugc nofollow">приблизительный консенсус</a>».

<blockquote class="kg-blockquote-alt">Дежурные оценивают, соответствует ли патч общим принципам проекта; отвечает ли минимальным стандартам качества; и принимают во внимание общее мнение других участников.</blockquote>

Кто такие дежурные Bitcoin Core? Это участники, накопившие достаточный социальный капитал благодаря своему вкладу в проект на протяжении длительного времени. Когда дежурные замечают компетентного участника, продемонстрировавшего свою надежность и мотивацию в определенной области, они могут принять решение дать его аккаунту расширенные права на гитхабе. В свою очередь, главный дежурный наблюдает за всеми аспектами проекта и отвечает за координацию релизов. Эта роль добровольно передавалась друг другу следующими людьми:

*   Сатоши Накамото: 1/3/09 — <a href="https://sourceforge.net/p/bitcoin/mailman/message/27102906/" rel="noopener ugc nofollow">2/23/11</a>
*   <a href="https://medium.com/@gavinandresen" rel="noopener">Гэвин Андресен</a>: <a href="https://sourceforge.net/p/bitcoin/mailman/message/27102906/" rel="noopener ugc nofollow">2/23/11</a> —<a href="https://bitcoinfoundation.org/bitcoin-core-maintainer-wladimir-van-der-laan/" rel="noopener ugc nofollow"> 4/7/14</a>
*   <a href="https://medium.com/@orionwl" rel="noopener">Владимир ван дер Лаан</a>: <a href="https://bitcoinfoundation.org/bitcoin-core-maintainer-wladimir-van-der-laan/" rel="noopener ugc nofollow">4/7/14</a> — настоящее время

Работа дежурного разработчика больше напоминает техобслуживание репозитория, а не власть над ним, потому что дежурные фактически не имеют права принимать решения, противоречащие общему мнению участников или пользователей. Тем не менее, это довольно сложная и утомительная роль; во многом из-за дополнительного внимания со стороны экосистемы в целом. Например, Грегори Максвелл оставил свою должность дежурного в 2017 году по <a href="https://www.reddit.com/r/Bitcoin/comments/3x7mrr/gmaxwell_unullc_no_longer_a_bitcoin_committer_on/cy29vkx/" rel="noopener ugc nofollow">личным причинам</a>; скорее всего, под давлением общественности, обрушившемся на него во время споров о масштабировании биткоина. Владимир ван дер Лаан написал <a href="https://laanwj.github.io/2016/05/06/hostility-scams-and-moving-forward.html" rel="noopener ugc nofollow">вдумчивый пост</a> о трудностях, связанных с работой дежурным Core, и о том, почему огорчившее многих решение лишить аккаунт Гэвина Андресена (предыдущий главный дежурный — __прим. перев.__) административных привилегий было правильным.

Так же поступили и с <a href="https://medium.com/@jgarzik" rel="noopener">Джеффом Гарзиком</a>, исключив его из репозитория на гитхабе — что расстроило его и многих других — но к тому моменту он не принимал участия в проекте <a href="https://www.reddit.com/r/Bitcoin/comments/6uec40/jeff_garzik_has_been_removed_from_the_bitcoin/" rel="noopener ugc nofollow">на протяжении уже двух лет</a>. Оставить его аккаунту административные привилегии значило создать потенциальную угрозу безопасности проекта и нарушить принцип наименьших привилегий, на который ссылается Владимир в своем посте.

При взгляде на Core со стороны может показаться, что это закрытый мирок, созданный технократами, в который крайне сложно попасть новичку. Но если вы поговорите с участниками, то поймёте, что это не так. Хотя за все эти годы всего лишь <a href="https://bitcointalk.org/index.php?topic=1774750.0" rel="noopener ugc nofollow">дюжина людей</a> имела доступ к изменению кода, сотни разработчиков внесли свою лепту в проект — и я в их числе. Хоть я и не считаю себя разработчиком Bitcoin Core — технически я им являюсь. Никто не может помешать вам внести свой вклад!

<figure class="kg-card kg-embed-card kg-card-hascaption"><blockquote class="twitter-tweet"><p dir="ltr" lang="en">In 2011, as a high school student who didn't understand what a pointer was, the <a href="https://twitter.com/bitcoincoreorg?ref_src=twsrc%5Etfw">@bitcoincoreorg</a> developer community (especially people like Greg Maxwell, <a href="https://twitter.com/pwuille?ref_src=twsrc%5Etfw">@pwuille</a>, etc) worked with me to make my shitty patches worth merging and made it a great environment to learn in.</p>— Matt Corallo (@TheBlueMatt) <a href="https://twitter.com/TheBlueMatt/status/1064292104346771458?ref_src=twsrc%5Etfw">November 18, 2018</a></blockquote>
<script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"></script>
<figcaption>В 2011 году, когда я был старшеклассником, который не понимал что такое указатель (pointer), сообщество разработчиков <a href="http://twitter.com/bitcoincoreorg" rel="noopener ugc nofollow">@bitcoincoreorg</a> (особенно такие люди, как Грег Максвелл, <a href="http://twitter.com/pwuille" rel="noopener ugc nofollow">@pwuille</a> и т. д.) помогало мне привести мои говённые патчи в достойный вид, и этим создало прекрасные условия для обучения.</figcaption></figure>

<figure class="kg-card kg-embed-card kg-card-hascaption"><blockquote class="twitter-tweet"><p dir="ltr" lang="en">In 2016, <a href="https://twitter.com/TheBlueMatt?ref_src=twsrc%5Etfw">@TheBlueMatt</a> organised a residency at <a href="https://twitter.com/ChaincodeLabs?ref_src=twsrc%5Etfw">@ChaincodeLabs</a>. I'd been reading everything about Bitcoin I could lay my hands on but hadn't dared submit a PR. Matt, Alex and Suhas were extraordinarily generous with their time in teaching us about Bitcoin and how to contribute.</p>— John Newbery (@jfnewbery) <a href="https://twitter.com/jfnewbery/status/1064301049534664707?ref_src=twsrc%5Etfw">November 18, 2018</a></blockquote>
<script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"></script>
<figcaption>В 2016 году <a href="http://twitter.com/TheBlueMatt" rel="noopener ugc nofollow">@TheBlueMatt</a> организовал учебный лагерь в <a href="http://twitter.com/ChaincodeLabs" rel="noopener ugc nofollow">@ChaincodeLabs</a>. Я читал все материалы о биткоине, которые попадались мне в руки, но не решался открывать свои пул-реквесты. Мэтт, Алекс и Сухас щедро делились своими знаниями, обучая нас основам работы биткоина, и тому, как участвовать в разработке.</figcaption></figure>

<figure class="kg-card kg-embed-card kg-card-hascaption"><blockquote class="twitter-tweet"><p dir="ltr" lang="en">I started making small commits to <a href="https://twitter.com/bitcoincoreorg?ref_src=twsrc%5Etfw">@bitcoincoreorg</a> and was in awe of the engagement on my PRs by <a href="https://twitter.com/MarcoFalke?ref_src=twsrc%5Etfw">@MarcoFalke</a> <a href="https://twitter.com/pwuille?ref_src=twsrc%5Etfw">@pwuille</a> <a href="https://twitter.com/orionwl?ref_src=twsrc%5Etfw">@orionwl</a> <a href="https://twitter.com/LukeDashjr?ref_src=twsrc%5Etfw">@LukeDashjr</a> and <a href="https://twitter.com/jfnewbery?ref_src=twsrc%5Etfw">@jfnewbery</a> Such a welcoming project!</p>— Jeff Rade (@jeffrade) <a href="https://twitter.com/jeffrade/status/1064593787756965893?ref_src=twsrc%5Etfw">November 19, 2018</a></blockquote>
<script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"></script>
<figcaption>Когда я начал вносить свой скромный вклад в <a href="https://medium.com/@bitcoincoreorg" rel="noopener">@bitcoincoreorg</a>, я был в восторге от того, что <a href="http://twitter.com/MarcoFalke" rel="noopener ugc nofollow">@MarcoFalke</a> <a href="http://twitter.com/pwuille" rel="noopener ugc nofollow">@pwuille</a> <a href="http://twitter.com/orionwl" rel="noopener ugc nofollow">@orionwl</a> <a href="http://twitter.com/LukeDashjr" rel="noopener ugc nofollow">@LukeDashjr</a> и <a href="http://twitter.com/jfnewbery" rel="noopener ugc nofollow">@jfnewbery</a> принимали участие в обсуждении моих пул-реквестов. Такой дружелюбный проект!</figcaption></figure>

Похоже, людям крайне сложно понять, что разработка биткоина не зависит от структуры репозитория Bitcoin Core на гитхабе. Хотя Bitcoin Core и имеет некоторую структуру (для координации используются централизованные каналы связи), сам проект не контролируется кем-либо из участников — даже теми, кто имеет особые привилегии в репозитории гитхаба. Хотя технически дежурные могут захватить репозиторий, подвергнуть цензуре несогласных разработчиков и, возможно, даже сохранить за собой название «Bitcoin Core» — это будет лишь означать, что разработка проекта переедет из Bitcoin Core в другое место. Если разработчики перестанут соглашаться с действиями дежурных, то они просто скопируют код и перенесут свою работу в другой репозиторий, в котором предыдущие дежурные Bitcoin Core не будут иметь административных привилегий.

Даже если без захвата власти какие-нибудь сомнительные изменения попали бы в код Bitcoin Core, нашлись бы разработчики, которые создали клон репозитория, удалили спорный момент из кода и сделали бы эту версию доступной для всех желающих. По сути, именно это и сделал Амори Сашэ, когда форкнул Bitcoin Core и удалил Segregated Witness из кода, чтобы создать Bitcoin ABC. Также бывают и случаи, когда Core отклоняет изменения, нужные некоторым людям: в таком случае разработчики могут форкнуть репозиторий и добавить эти изменения. Это случалось много раз, например:

*   <a href="https://medium.com/@octskyward" rel="noopener">Майк Хирн</a> форкнул Core и создал Bitcoin XT
*   <a href="https://medium.com/@g.andrew.stone" rel="noopener">Эндрю Стоун</a> форкнул Core и создал Bitcoin Unlimited
*   <a href="https://medium.com/@jgarzik" rel="noopener">Джеф Гарзик</a> форкнул Core и создал BTC1

Форкнуть код — очень просто. Сместить центр фокуса разработки биткоина — сложно: вы должны убедить участников, что им будет лучше участвовать в другом проекте.

<figure class="kg-card kg-embed-card kg-card-hascaption"><blockquote class="twitter-tweet"><p dir="ltr" lang="en">I hold allegiance to no man, to no dev team in Bitcoin. My intention is to run the code that I judge best protects my financial sovereignty.</p>— Jameson Lopp (@lopp) <a href="https://twitter.com/lopp/status/843210083588816896?ref_src=twsrc%5Etfw">March 18, 2017</a></blockquote>
<script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"></script>
<figcaption>Я не присягаю на верность никому, ни одной команде разработчиков. Моя цель — запускать тот код, что, как я считаю, наилучшим образом защитит мой финансовый суверенитет.</figcaption></figure>

У некоторых людей есть мнение — и их трудно в нём переубедить — что пользователи Bitcoin Core не глядя следуют любым изменениям кода. Это может стать самоподкрепляющимся убеждением: раз уж пользователи не участвуют в процессе разработки, то они и не осознают своих возможностей, тем самым отдавая часть своей власти разработчикам. Однако, пользователи показали свою реальную власть во время движения UASF (User Activated Soft Fork — активируемый пользователями форк__ — прим. перев.__) в 2017 году. Неизвестный разработчик под псевдонимом <a href="https://medium.com/@shaolinfry" rel="noopener">shaolinfry</a> опубликовал <a href="https://github.com/bitcoin/bips/blob/master/bip-0148.mediawiki" rel="noopener ugc nofollow">BIP148</a> (Bitcoin Improvement Proposal — предложение по улучшению биткоина — __прим. перев.__), который заставил бы майнеров активировать функцию Segregated Witness примерно 1 августа. Однако, BIP148 оказался слишком спорным и не был принят в Bitcoin Core, поэтому shaolinfry форкнул Core и опубликовал свою версию под названием <a href="https://github.com/UASF/bitcoin" rel="noopener ugc nofollow">Bitcoin UASF</a>. Эта программная реализация <a href="https://www.uasf.co/" rel="noopener ugc nofollow">приобрела неожиданную популярность</a> и, вероятно, <a href="https://hackernoon.com/bip-148-uasf-first-year-anniversary-a-new-system-of-governance-223907ec298b" rel="noopener ugc nofollow">создала достаточное давление</a>, чтобы убедить майнеров принять <a href="https://github.com/bitcoin/bips/blob/master/bip-0091.mediawiki" rel="noopener ugc nofollow">BIP91</a> и тем самым активировать форк до истечения срока BIP148.

Лучшие участники Bitcoin Core на мой взгляд — это те, кто придерживаются принципа «экстремальной ответственности» (<a href="https://www.youtube.com/watch?v=ljqra3BcqWM" rel="noopener ugc nofollow">extreme ownership</a>). Показательный пример: хотя <a href="https://medium.com/@jfnewbery" rel="noopener">Джон Ньюбери</a> и не был автором кода, содержавшего в себе баг консенсуса, он тем не менее взял на себя ответственность за его попадание в релиз — так как не смог обнаружить его при проверке — и за то, что не смог найти этот баг позже, когда прописывал различные варианты тестирования:

<figure class="kg-card kg-embed-card"><blockquote class="twitter-tweet"><p dir="ltr" lang="en">I am responsible for the CVE-2018-17144 bug. <a href="https://t.co/BrPVivM296">https://t.co/BrPVivM296</a></p>— John Newbery (@jfnewbery) <a href="https://twitter.com/jfnewbery/status/1044016889117192194?ref_src=twsrc%5Etfw">September 24, 2018</a></blockquote>
<script async="" charset="utf-8" src="https://platform.twitter.com/widgets.js"></script>
</figure>

Мы все — Сатоши.

<figure class="kg-card kg-embed-card"><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="113" src="https://www.youtube.com/embed/DjYbsq3FXfM?feature=oembed" width="200"></iframe></figure>

<h1 id="%D1%83%D1%87%D0%B0%D1%81%D1%82%D0%B8%D0%B5-%D0%B2-bitcoin-core"><strong>Участие в Bitcoin Core</strong></h1>

Может показаться, что начать свой путь в Core — это что-то пугающе сложное, но в сети есть немало ресурсов, призванных помочь разработчикам-новичкам. Рекомендации и правила для участников <a href="https://bitcoincore.org/en/faq/contributing-code/" rel="noopener ugc nofollow">можно найти здесь</a>, хотя, возможно, лучше даже начать с ненавязчивого вступления за авторством <a href="https://medium.com/@jimmysong" rel="noopener">Джимми Сонга</a>:

<figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://bitcointechtalk.com/a-gentle-introduction-to-bitcoin-core-development-fdc95eaee6b8"><div class="kg-bookmark-content"><div class="kg-bookmark-title">A Gentle Introduction to Bitcoin Core Development</div><div class="kg-bookmark-description">If you’re a developer and you own any Bitcoin at all, contributing to Bitcoin Core can be one of the best things you can do to help out…</div><div class="kg-bookmark-metadata"><img alt="" class="kg-bookmark-icon" src="https://cdn-static-1.medium.com/_/fp/icons/Medium-Avatar-500x500.svg"/><span class="kg-bookmark-author">Bitcoin Tech Talk</span><span class="kg-bookmark-publisher">Jimmy Song</span></div></div><div class="kg-bookmark-thumbnail"><img alt="" src="https://miro.medium.com/proxy/1*kFrc4tBFM_tCis-2Ic87WA.png"/></div></a></figure>

Core разработчик <a href="https://medium.com/@elombrozo" rel="noopener">Эрик Ломброзо</a> также написал статью о том, как происходят изменения в репозитории Core:

<figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://medium.com/@elombrozo/the-bitcoin-core-merge-process-74687a09d81d"><div class="kg-bookmark-content"><div class="kg-bookmark-title">The Bitcoin Core Merge Process</div><div class="kg-bookmark-description">A major point of confusion, especially among people who have not worked a lot on free open source software development, is how Bitcoin Core…</div><div class="kg-bookmark-metadata"><img alt="" class="kg-bookmark-icon" src="https://cdn-static-1.medium.com/_/fp/icons/Medium-Avatar-500x500.svg"/><span class="kg-bookmark-author">Medium</span><span class="kg-bookmark-publisher">Eric Lombrozo</span></div></div><div class="kg-bookmark-thumbnail"><img alt="" src="https://miro.medium.com/max/500/1*Ve9PGpxJ9al3TioTG0HU2g.png"/></div></a></figure>

<a href="https://medium.com/@bergealex4" rel="noopener">Алекс Б.</a> написал отличную статью о философии разработки биткоина — советую прочитать это любому намеренному участвовать в проекте всерьёз:

<figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://medium.com/@bergealex4/the-tao-of-bitcoin-development-ff093c6155cd"><div class="kg-bookmark-content"><div class="kg-bookmark-title">The Tao Of Bitcoin Development</div><div class="kg-bookmark-description">Over the last few years, the buzz generated by Bitcoin’s scaling debate has drawn unprecedented attention towards the development process…</div><div class="kg-bookmark-metadata"><img alt="" class="kg-bookmark-icon" src="https://cdn-static-1.medium.com/_/fp/icons/Medium-Avatar-500x500.svg"/><span class="kg-bookmark-author">Medium</span><span class="kg-bookmark-publisher">Alex B.</span></div></div><div class="kg-bookmark-thumbnail"><img alt="" src="https://miro.medium.com/max/388/1*Tgomhxhzl6nQY0JAaRX6-w.png"/></div></a></figure>

Думаю, будет полезным привести конкретный пример: при написании этой статьи я столкнулся с трудностями при попытке запустить на моем компьютере скрипт __verify-commits.py__ для проверки целостности истории слияний на гитхабе. Чтобы избавить будущих разработчиков от похожих проблем, я открыл пул-реквест, в котором предложил некоторые улучшения документации. Как можно увидеть из истории пул-реквеста, четыре разных разработчика высказали свои идеи о том, как можно улучшить мой запрос. Предложения были разными: от изменения вики-разметки до введения нового параметра, который бы можно было использовать в скрипте __verify-commits.py__. Я согласился со всеми предложениями, поэтому включил их в свой код и обновил пул-реквест. После этого разработчики, которые просматривали код, решили, что пул-реквест отвечает всем требованиям, и дежурный <a href="https://github.com/MarcoFalke" rel="noopener ugc nofollow">Марко Фальке</a> поставил на нём тег, обозначающий что код будет включён в релиз 0.18. Через несколько дней, не встретив каких-либо возражений со стороны других разработчиков, дежурный <a href="https://github.com/MeshCollider" rel="noopener ugc nofollow">Сэмюэль Добсон</a> добавил код в Core.

<h1 id="%D0%BA%D1%82%D0%BE-%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D0%B8%D1%80%D1%83%D0%B5%D1%82-%D0%B1%D0%B8%D1%82%D0%BA%D0%BE%D0%B8%D0%BD"><strong>Кто контролирует </strong>биткоин<strong>?</strong></h1>

Как я <a href="https://www.coindesk.com/nobody-understands-bitcoin-thats-ok" rel="noopener ugc nofollow">неоднократно повторял</a> на протяжении многих лет, полностью понять биткоин как систему практически невозможно. Определение протокола биткоина подобно определению языка. Языки развиваются органически: слова со временем сами обретают своё значение, а не берут его из словарей. Так же как словари описывают язык, а не определяют его, так и программные реализации биткоина описывают язык биткоина с помощью кода. Никто не обязан соглашаться с определением данного слова в словаре, равно как и не обязан соглашаться с кодом в данной программной реализации биткоина, запуская его.

Языками не управляет демократия, и точно так же она не управляет биткоином. Несмотря на это, постоянно можно слышать, как люди ссылаются на майнеров, нод, разработчиков или пользователей, которые могут «голосовать» за что-то — но на самом деле механизма, который бы заставил меньшинство принять изменения, за которые проголосовало большинство, не существует. Биткоин — это анархия: без правителей, но не без правил. Правила определяются и применяются отдельными участниками сети.

Хотя изменения в сам протокол биткоина обычно вносятся через так называемые <a href="https://github.com/bitcoin/bips/blob/master/README.mediawiki" rel="noopener ugc nofollow">Bitcoin Improvement Proposal</a>, даже это всего лишь рекомендуемая и самая распространённая практика, и никто не обязан ей следовать. Это просто более формализованный способ рассмотрения предложенных участниками изменений: сначала они подвергаются экспертной оценке, а затем должны получить всеобщее одобрение.

Как бы трудно ни было это объяснить или понять, здесь и заключается важный аспект «антихрупкости» биткоина: если бы существовала единственная точка контроля — она же бы и была главным уязвимым местом, на которое могли бы надавить структуры, которым биткоин угрожает. В конечном счете, каждый оператор ноды сам себе начальник в том смысле, что он лично следит за тем, чтобы никто в сети не нарушал правил, которые он считает верными. <a href="https://www.coindesk.com/bitcoins-security-model-deep-dive" rel="noopener ugc nofollow">Эта модель безопасности</a> — основа управления биткоином, которая строится по принципу «снизу — вверх».

<figure class="kg-card kg-embed-card"><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="113" src="https://www.youtube.com/embed/_IMzSCSeM68?feature=oembed" width="200"></iframe></figure>

Никто не контролирует биткоин.

Никто не контролирует разработку биткоина.