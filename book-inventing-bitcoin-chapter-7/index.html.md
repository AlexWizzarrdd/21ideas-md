 

Мы создали распределенный реестр, не зависящий от центрального органа, систему лотереи майнинга для выбора тех, кто производит записи в систему, систему вознаграждения честных майнеров и наказания недобросовестных, способ корректировки сложности майнинга для обеспечения согласованного графика выпуска и уменьшения количества конфликтов, а также систему проверки достоверности цепочки путем рассмотрения совокупного Proof of Work и истории транзакций.

Теперь давайте разберемся с идентификацией. В традиционной банковской системе вы отправляете деньги, раскрывая свою личность перед банком. Вы предоставляете документ, удостоверяющий личность, пин-код в банкомате или вводите имя пользователя и пароль в приложении. Банк гарантирует, что два человека не могут быть идентифицированы как одна и та же личность.

Поскольку у нас сейчас нет центрального органа, который бы проводил идентификацию личности, как нам открывать счета в нашей новой финансовой системе на основе Биткоина? Как нам решить задачу Сатоши по разрыву связи между личными данными и финансовыми операциями, чтобы избежать кражи личных данных и не быть вынужденными доверять нашу информацию центральным органам? Как нам гарантировать, что, когда Элис объявит, что хочет заплатить Бобу, что это действительно она и что она имеет право перевести эти средства?

<h1 id="%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B1%D0%B8%D1%82%D0%BA%D0%BE%D0%B8%D0%BD-%D0%B0%D0%BA%D0%BA%D0%B0%D1%83%D0%BD%D1%82%D0%B0">Создание Биткоин-аккаунта</h1>

Мы не можем полагаться на центральный орган, такой как банк, для ведения учета всех счетов. А что, если мы позволим каждому регистрировать собственные имя пользователя и пароль? Банк обычно проверяет, что имя пользователя еще не используется, но здесь это невозможно, поскольку у нас нет центрального органа, выдающего удостоверения личности. Нам нужно что-то больше, сильнее и уникальнее, чем имя пользователя и пароль. Эта техника знакома нам из предыдущих глав. Нам снова нужно гигантское случайное число.

Для создания учетных записей мы можем использовать тот же прием, который предоставил возможность каждому участнику становиться обладателем лотерейных билетов, генерируя огромные случайные числа,. Чтобы создать Биткоин-аккаунт, также известный как _адрес_, мы сгенерируем пару 256-битных чисел с математической связью, известную как связка_ публичного и приватного _ключей. Не забывайте, что 256-битное число примерно равно числу атомов во Вселенной. Поэтому вероятность того, что два человека случайно сгенерируют одну и ту же пару ключей, практически отсутствует. Мы будем давать наш публичный ключ (адрес) любому, кто хочет отправить нам монеты. А приватный ключ мы будем использовать, чтобы их тратить. Вот как это работает.

Шифрование — это метод сбора и сокрытия некоторых данных, так что только тот, у кого есть приватный ключ, может прочитать исходное сообщение, расшифровав его. В детстве некоторые из нас играли с простыми игрушками для кодирования/декодирования, которые использовали ключ, чтобы превратить сообщение в бессмыслицу, а затем обратно в исходное сообщение. Этот вид шифрования, использующий только один ключ, &nbsp;называется симметричным. Система, в которой используется связка публичного и приватного ключей, асимметрична, поскольку вы шифруете данные одним ключом, а расшифровываете другим.

Вы можете поделиться своим публичным ключом со всем миром. Люди, которые хотят отправлять вам сообщения, могут зашифровать их с помощью вашего публичного ключа. А поскольку только у вас есть приватный ключ, вы единственный, кто может их расшифровать.

Давайте рассмотрим, как Элис отправляет монеты Бобу. Чтобы провести сделку, Боб генерирует пару ключей. Свой приватный ключ он хранит в секрете/сохраняет в тайне. А на основе хеша его публичного ключа, Боб создает Биткоин-адрес — большое число, которым он делится с Элис.

Вы можете думать об адресе в сети Биткоин как о почтовом ящике. Вместо писем Элис может бросать в этот почтовый ящик монеты. Но только у Боба есть приватный ключ, который открывает почтовый ящик, чтобы тратить монеты.

Когда вы переводите деньги в банк, вы даете ему свое имя пользователя и пароль. Когда вы выписываете чек, вы подписываетесь своим именем, чтобы подтвердить, что именно вы выписываете чек. Когда вы перемещаете биткоины, вы подтверждаете, что владеете ключом к адресу, на котором хранятся монеты.

Элис должна доказать, что у нее есть приватный ключ, связанный с адресом, на котором хранятся монеты, но она не хочет раскрывать свой приватный ключ никому, иначе его смогут украсть и потратить средства из ее почтового ящика.

Доказательство владения ключом Элис называется цифровой подписью. Элис создает транзакцию, которая по сути представляет собой фрагмент данных, который выглядит примерно так:

Адрес 12345, содержащий 2,5 биткоина, отправляет 2 биткоина на адрес 56789 и 0,5 биткоина обратно на адрес 12345\*

Затем она шифрует данную транзакцию с помощью своего приватного ключа и создает уникальную _цифровую подпись_.

Когда Элис сообщает о своей транзакции другим нодам в сети, она делится информацией о публичном ключе почтового ящика, с которого она отправляет транзакцию, и зашифрованной приватным ключом подписью. Элис объявляет следующее:

•	Я отправляю монеты с адреса 12345

•	Вот публичный ключ для адреса 12345, и вы можете убедиться в том, что это тот самый публичный ключ, получив адрес посредством хеширования этого ключа.

•	Вот подпись, которую я зашифровала с помощью приватного ключа, соответствующего этому адресу. Вы можете использовать публичный ключ, чтобы расшифровать ее и убедиться, что она соответствует данным транзакции, которые я отправляю.

<figure class="kg-card kg-image-card kg-card-hascaption"><img alt="" class="kg-image" loading="lazy" src="https://lh4.googleusercontent.com/NBBcHYYj2SV0fAt0vzaJEz-C-roEZ48v3hp-rIIiIB_lytWKbnhuZvBto9VTQmNZ7LwUP1j13ojAlgFR3U4fsSs6wSdPOmn2vu6dL7Q2KTVfRe2-mL-Y7elU4Cn_zPOZ7tRTw3nm"/><figcaption><em>Транзакция, которая перемещает монеты, зашифрована с использованием приватного ключа и подтверждена цифровой подписью. Она расшифровывается с помощью публичного ключа, который известен всем.</em></figcaption></figure>

Поскольку у всех теперь есть публичный ключ от почтового ящика Элис, они могут легко расшифровать цифровую подпись. Благодаря возможности удостовериться в правильности/корректности/валидности подписи, зная только публичный ключ отправителя, можно быть уверенным, что Элис использовала приватный ключ именно от этого адреса для подписи транзакции. В противном случае ее расшифровка не увенчалась бы успехом, поскольку публичный ключ может расшифровывать только сообщения, зашифрованные с помощью соответствующего приватного ключа. Но важно понимать, что ноды на самом деле видели не ее приватный ключ, а лишь доказательство того, что она смогла использовать его для шифрования своей подписи.

В отличие от подписи на чеке или банковского пароля, ваша цифровая подпись относится только к тем уникальным транзакционным данным, которые вы подписываете. Таким образом, ее нельзя украсть и использовать повторно в другой транзакции. Каждая транзакция получает новую подпись (даже если она отправляется с того же адреса с использованием того же приватного ключа), поскольку любое изменение входных данных приводит к изменению подписи.

<h1 id="%D0%B2%D0%BE%D0%B7%D0%BC%D0%BE%D0%B6%D0%BD%D0%BE-%D0%BB%D0%B8-%D1%83%D0%B3%D0%B0%D0%B4%D0%B0%D1%82%D1%8C-%D0%BF%D1%80%D0%B8%D0%B2%D0%B0%D1%82%D0%BD%D1%8B%D0%B9-%D0%BA%D0%BB%D1%8E%D1%87">Возможно ли угадать приватный ключ?</h1>

Давайте высчитаем шансы угадать приватный ключ, который даст вам возможность переместить монеты c соответствующего публичного адреса. Помните, что ключ состоит из 256 бит. Каждый бит имеет только два возможных значения (один или ноль). Это означает, что каждый бит можно представить как бросок монеты.

Если бы у нас был 1-битный приватный ключ, это было бы равносильно тому, чтобы бросить монету один раз. Орел или решка, один или ноль? Ваш шанс угадать — один к двум.

Быстрый базовый обзор статистики: вероятность возникновения нескольких событий рассчитывается путем умножения между собой индивидуальных вероятностей каждого события. Если при подбрасывании монеты вероятность выпадения решки равна 1/2, то вероятность выпадения решки при подбрасывании двух монет подряд составляет 1/2 x 1/2 = 1/4 или 1 к 4.

Если бы вы пытались угадать результат 8 бросков монет подряд, вероятность успеха приравнивалась бы к одному из 28 исходов или один шанс из 256.

Автомобильный номерной знак имеет 6 букв и цифр. В английском языке — 26 букв и 10 цифр, так что всего 36 символов. Так как символов шесть, количество возможных номерных знаков = 366, так что ваши шансы угадать номерной знак моего авто — один к двум миллиардам\*\*\*.

Номер кредитной карты состоит из шестнадцати цифр. Каждая цифра может иметь 10 значений, а цифр — 16, так что ваши шансы угадать номер моей кредитной карты равны 1 к 1016, то есть один к 10,000,000,000,000,000, или примерно один к десяти квадриллионам.

На Земле около 1050 атомов. Если я в случайном порядке подумаю об одном из них, ваши шансы угадать его будут

<!--kg-card-begin: markdown-->

Один к <mark>1,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000,000</mark>
