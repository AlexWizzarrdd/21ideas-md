 >  _Продолжаем серию статей, посвященных DeFi на Биткоине и подготовленных создателем телеграм-канала [CryptoBotan](https://t.me/CryptoBotan) при участии проекта 21 идея. Все статьи на эту тему собраны по тэгу [Bitcoin DeFi](https://www.21ideas.org/tag/bitcoin-defi/)._

Пространство DeFi стремительно развивается и расширяется, предлагая все больше децентрализованных сервисов и платформ. Финансовые протоколы создаются в огромном количестве различных сетей, а также на сайдчейнах и решениях второго уровня. Внутри любой блокчейн-экосистемы существуют кошельки, которые позволяют взаимодействовать с платформами, сервисами и приложениями.

<figure class="kg-card kg-image-card"><img alt="" class="kg-image" loading="lazy" src="https://lh4.googleusercontent.com/1EC5UqZm_U4_eR-HTZEPbOS7NXg3XzgLjVdJel6Z4rGhdRDSda_alXexv7L2JVO-fxnUiJEY3HZ4O3bvYubI7_HrNa3PeaOy6o4yIfV0Qnuh6JfZH_1enKHbCf0PZaxtQbyiTY2F"/></figure>

DeFi-пространство в сети Bitcoin не является исключением. Здесь существует огромное количество различных кошельков и интерфейсов со своими особенностями и функциями. Чтобы воспользоваться возможностями финансовых протоколов на Биткоин, сперва необходимо выбрать подходящий кошелек. В данной статье мы разберем существующие решения для хранения активов в сети Lightning и поговорим о том, как происходит взаимодействие пользователей с DeFi-протоколами внутри экосистемы.

<h3 id="%D0%BA%D0%BE%D1%80%D0%BE%D1%82%D0%BA%D0%BE-%D0%BE-lightning"><strong>Коротко о Lightning</strong></h3>

Сеть Lightning создавалась как решение второго уровня в сети Bitcoin, позволяя выносить проведение платежей за пределы основного блокчейна. LN является платежной сетью с возможностью создания на ее основе действительно децентрализованного финансового пространства. Достигается это за счет построения сети узлов, которые, соединяясь друг с другом, образуют платежные каналы для передачи средств и данных. Узлом в сети может стать любой желающий, установив подходящий кошелек с поддержкой LN.

<figure class="kg-card kg-image-card"><img alt="" class="kg-image" loading="lazy" src="https://lh3.googleusercontent.com/Ol2DSMWmi4IpALme4_2sQGCCHlNGJaeJqfFWowQNSU5BnMlDE9NyeuXYzfXsvuuVl0P5KopVS7yVee_TRVZ8X34NuFEvfCX7film4Jzlk-x3ZXe2bPsA1VH3l_6Q3q1XCE613DFB"/></figure>

В последние годы развитие LN было сосредоточено на реализации инфраструктуры и тестировании протокола. Сегодня можно наблюдать как данное решение становится популярным среди пользователей. Так, согласно исследованию ([ru](https://bitnovosti.com/2021/12/05/sostoyanie-lightning-network/#razdel1),[ eng](https://static1.squarespace.com/static/60377b34e7791c1277aaae97/t/615cb9aeaab8c63e1a732771/1633466815710/The+State+of+Lightning.pdf)) Arcane Research и OpenNode, за два последних года емкость сети выросла более чем в 3 раза, достигнув отметки в 3 тысячи BTC. В какой-то степени этому способствовало принятие Биткоина как платежного средства в Сальвадоре, где LN используется для осуществления транзакций.

Больше о сети лайтнинг можно узнать в этом разделе: 

<figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://www.21ideas.org/theory-ln/"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Lightning Network</div><div class="kg-bookmark-description">все, что нужно знать о Lightning Network, втором уровне поверх Биткоина, призванном сделать сеть быстрее, дешевле и приватнее.</div><div class="kg-bookmark-metadata"><img alt="" class="kg-bookmark-icon" src="https://www.21ideas.org/favicon.png"/><span class="kg-bookmark-author">21ideas</span><span class="kg-bookmark-publisher">Tony Lightninng</span></div></div><div class="kg-bookmark-thumbnail"><img alt="" src="https://www.21ideas.org/content/images/2021/12/lightning-2400-1600.jpg"/></div></a></figure>

<h3 id="%D0%BE%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-ln"><strong>Особенности использования LN</strong></h3>

Для организации взаимодействия пользователя с платформами внутри Lightning используется специальное решение LNURL  —  протокол связи между кошельками, сервисами и приложениями в сети. Проще говоря, это набор специальных функций, вызов которых обеспечивает “общение” пользователя с сервисами.

Для того чтобы взаимодействовать с платформой внутри сети пользователю нужно запросить у поставщика услуг (платформы) счет для отправки средств. В то же время получателю платежа необходимо создать и отправить этот счет плательщику. Протокол LNURL обеспечивает автоматическую генерацию этого счета, т.е. отображается по запросу плательщика.

Например, для того чтобы использовать торговую площадку[ LNMarkets](https://lnmarkets.com/) необходимо отправить средства. Нажимая “Deposit” вы запрашиваете счет в виде QR-кода, который необходимо пополнить для использования платформы.

<figure class="kg-card kg-image-card kg-card-hascaption"><img alt="" class="kg-image" loading="lazy" src="https://lh5.googleusercontent.com/YFPapiVfc1B3G9zBBgMPyoDvINdiSUTxYlceJR6vVrOAo8pu5LDgvbC-3IU7_N1tfl4jph9DH9FV3iRcVwb7w5_1_FCFnz1VuVFAyPNVA7DNpXAHFd6j2uX_0FGGlWbF97XeXQvQ"/><figcaption>Депозит средств на платформу LNMarkets</figcaption></figure>

Стоит отметить, что если кошелек не поддерживает протокол LNURL, можно создать LN-счет с заданной суммой для пополнения. Вам нужно только отсканировать QR-код и запрашиваемое количество сатоши спишется с вашего лайтнинг-кошелька.

Описанное выше взаимодействие обеспечивается при помощи функции LNURL-withdraw, предназначенной для снятия/получения платежей. Помимо нее существуют и другие:

*   LNURL-auth, для авторизации на внешних сервисах;
*   LNURL-pay, для оплаты без счета;
*   LNURL channel, для подключения к каналам.

С ростом популярности Биткоина и ускоренным распространением LN, большинство биткоин-кошельков интегрировали протокол LNURL, который улучшил и упростил пользовательское взаимодействия внутри сети. На[ Github проекта](https://github.com/fiatjaf/lnurl-rfc#lnurl-documents) можно найти полный список биткоин-кошельков, которые поддерживают данное решение.

<h3 id="lightning-%D0%BA%D0%BE%D1%88%D0%B5%D0%BB%D1%8C%D0%BA%D0%B8"><strong>Lightning-кошельки</strong></h3>

Lightning-кошельки играют ключевую роль в создании пространства DeFi на Bitcoin и именно поэтому их количество так велико. На данный момент существуют веб-решения, а также кошельки для ПК и мобильных устройств. Многие централизованные компании и биржи также внедряют поддержку LN в свои решения. Большинство из представленных кошельков не требуют наличия собственного полноценного узла в сети, что упрощает для новых пользователей взаимодействие с сетью, &nbsp;но снижая при этом уровень контроля и обеспечения безопасности хранимых активов.

[Simple Bitcoin Wallet (SBW)](https://lightning-wallet.com/)

SBW — это многофункциональный автономный кошелек с интеграцией Lightning, доступный только на Android-устройствах. Поддержка RBF и CPFP позволяет ускорять или отменять транзакции в мемпуле. Также есть поддержка Tor, методы повышения конфиденциальности, контроль выходных транзакций, возможности создания объединенных транзакций и весьма доступное[ руководство](https://lightning-wallet.com/posts/manual/) по использованию.

[Phoenix](https://phoenix.acinq.co/)

Это мобильный некастодиальный биткоин-кошелек, поддерживающий отправку и получение платежей LN. Phoenix, установленный на устройстве, также является полностью автономным узлом в сети лайтнинг с автоматическим созданием платежных каналов.

<figure class="kg-card kg-image-card"><img alt="" class="kg-image" loading="lazy" src="https://lh3.googleusercontent.com/SwKD0EuaogXf5YHHbEhwRIBaJcZ4oKVNJYgkMu3vJYtjH16YkbGVnYS_-TKUw0nj8BP16JJ3IQZOgOoUnWS_o3RZLDSZdirUyNk4p3xxMl7k3jKgWW1Ro6929rVhaTAE_ygOpsmp"/></figure>

Для того чтобы начать принимать платежи вам нужно активировать кошелек, отправив минимальную сумму 10000 сатоши (0,0001btc), тем самым создав новый платежный канал. Следует отметить, что Phoenix берет на себя некоторые функции, такие как открытие каналов и свопы. Необходимость такого доверия обусловлена предоставлением более удобного и простого функционала для неопытных пользователей.

[Breez](https://breez.technology/)

Это мобильный кошелек в стадии бета-тестирования с возможностями для самостоятельного хранения средств, а также удобным и комфортным &nbsp;для использования дизайном. В Breez нужно активировать кошелек, отправив минимум 2000 сатоши для открытия канала.

<figure class="kg-card kg-image-card"><img alt="" class="kg-image" loading="lazy" src="https://lh5.googleusercontent.com/Ae140W_8HYgef9sbqbvdGJdraOcjqjY03q2JrVll2nFyIhAHXLwig9Zjl-AxKmSqz7RY3mRdGR1YTzHjuB8YdcujiUNpp9AUB7lu4rkWIvDGVJCv_mD2NZ4soufjdcfKLkt8HIzP"/></figure>

Дополнительными функциями кошелька являются возможности использования протоколов LN внутри приложения, покупка BTC с карты, а также функция принятия платежей LN для продавцов и поставщиков услуг.

Стоит отметить одно интересное Lightning-приложение, которое доступно прямо из кошелька Breez - сервис для прослушивания тематических подкастов с поддержкой LN. Сеть lightning используется здесь для приема платежей, чтобы создатели контента могли получать вознаграждение и так называемые “пожертвования”.

Использование лайтнинг в качестве сети для монетизации контента может повлиять на качество производимых материалов, а также на возможности их публикации. Используя Breez пользователи могут выбрать контент для прослушивания, например аудиоматериалов 21ideas [доступных прямо в кошельке](https://breez.link/p?feedURL=https%3A%2F%2Fanchor.fm%2Fs%2F69c8de58%2Fpodcast%2Frss). В каталоге подкастов в Breez вы сможете найти аудиоверсии материалов проекта и прослушивать прослушивать их в режиме онлайн или скачивать на собственное устройство. Пользователи имеют возможность оплатить доступ к контенту поминутно или полностью, используя только сеть LN.

[Zap](https://zap.jackmallers.com/)

Это простой и удобный в использовании lightning-кошелек, доступный на мобильных и персональных устройствах. У пользователей есть возможность подключения к существующим узлам, а в скором времени разработчики представят решение для создания собственного узла. Zap обеспечивает поддержку множества кошельков, а в бета-версии находится решение для покупки BTC за фиатные валюты прямо из кошелька. В будущем также обещают добавить поддержку Tor для повышения конфиденциальности.

[Bluewallet](https://bluewallet.io/)

Это мобильный кошелек, доступный также на MacOS с поддержкой основной и лайтнинг-сети. Особенностью кошелька является гораздо больший функционал, доступный для пользователей. Вместо создания полного узла, в данном кошельке применяется плагин, который создает отдельные учетные записи для пользователей, при этом каждая из которых будет использовать один и тот же узел.

Кошелек позволяет отправлять несколько транзакций одним пакетом, создавать multisig-хранилища, настраивать комиссии, управлять полным узлом Биткоин, использовать Tor, пополнять кошелек LN с помощью карты, DEX или основного кошелька BTC, а также множество других полезных функций.

[Wallet of Satoshi](https://www.walletofsatoshi.com/)

Wallet of Satoshi — это кастодиальный (связанный с хранением) мобильный кошелек для iOS и Android с очень простым пользовательским интерфейсом, позволяющий отправлять и получать Lightning-платежи.

[Eclair Wallet](https://play.google.com/store/apps/details?id=fr.acinq.eclair.wallet.mainnet2)

Это один из первых мобильных кошельков с поддержкой Lightning, доступный только на Android. Он позволяет создавать только исходящие платежные каналы без возможности приема мгновенных Lightning-платежей.

[Muun](https://muun.com/)

Muun — это мобильный кошелек для самостоятельного хранения биткоинов. Кошелек не предлагает функций для автоматического перемещения BTC в каналы. Пользователи могут использовать монеты в обеих сетях: в основной биткоин-сети и сети LN.

[Lightning Network Daemon](https://github.com/lightningnetwork/lnd)

Это полная реализация узла Lightning Network, используемая более опытными пользователями. При использовании полного узла можно создавать и закрывать каналы, осуществлять полное управление всеми состояниями канала, использовать шифрование и многие другие функции.

[Tippin.me](https://tippin.me/)

Это расширение для браузера использующееся для создания кнопки LN под твитами для принятия или отправки чаевых.

Lightning-кошельки в Telegram

Создать кошелек лайтнинг можно также и в сети Телеграм для своей учетной записи. Вы можете получать или отправлять платежи как внутри Telegram, так и в основной сети. Двумя самыми популярными решениями являются[ LNTXBOT](https://t.me/lntxbot) и[ LightningTipBot](https://t.me/LightningTipBot)

<h3 id="%D0%B7%D0%B0%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5"><strong>Заключение</strong></h3>

Выбирая кошелек необходимо понимать, что каждый из них предоставляет функционал различной степени сложности и применения. Доступные и удобные кошельки жертвуют безопасностью и конфиденциальностью пользователей, в то время как надежные и многофункциональные решения требуют знаний и определенных навыков от пользователей. Вам необходимо самостоятельно определить баланс между комфортом, безопасностью и приватностью, а затем подобрать решение исходя собственных целей и задач.  
